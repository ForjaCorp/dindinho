#!/usr/bin/env sh

# Fail-fast: Validação de documentos antes de tarefas pesadas
npx turbo run docs:check

BASE_REF="origin/main"

if git rev-parse --verify "$BASE_REF" >/dev/null 2>&1; then
  npm run quality:prepush -- --filter="...[$BASE_REF]"
else
  npm run quality:prepush
fi
